### Инфраструктура для веб-приложения: front, back и db

```plaintext
+-----------------------------------------------------+
|          Сервер Oracle Linux 8.1                    |               
|                                                     |
|  +-------------------+                              |
|  |       front       |                              |
|  |                   |                              |
|  |  Публичный: **.***.***.**                        |
|  |  Интерфейс 1: Внешняя сеть (110 Мбит/с)          |
|  |  Интерфейс 2: Изолированная сеть (10.0.1.2)      |
|  |                   |                              |
|  |  (Nginx, WordPress)                              |
|  |  Интернет-шлюз    |                              |
|  |  SSH доступ только по ключу                      |
|  +-------------------+                              |
|                                                     |
|  +-------------------+                              |
|  |        back       |                              |
|  |                   |                              |
|  |  IP: 10.0.1.3     |                              |
|  |  Интерфейс: Изолированная сеть (10.0.1.3)        |
|  |                   |                              |
|  |  (PHP-FPM)        |                              |
|  |  Обработка PHP    |                              |
|  |  Доступ к PHP-FPM только с localhost и front     |
|  |  SSH доступ только по ключу                      |
|  +-------------------+                              |
|                                                     |
|  +-------------------+                              |
|  |        db         |                              |
|  |                   |                              |
|  |  IP: 10.0.1.4     |                              |
|  |  Интерфейс: Изолированная сеть (10.0.1.4)        |
|  |  Дополнительный диск: 2 ТБ                       |
|  |                   |                              |
|  |  (MariaDB)        |                              |
|  |  Хранение данных  |                              |
|  |  Подключение разрешено с front и back            |
|  |  Пользователь WordPress только с db              |
|  |  SSH доступ только по ключу                      |
|  +-------------------+                              |
+-----------------------------------------------------+
```
### Автоматизация инфраструктуры: Terraform, Ansible и Docker для развертывания и управления веб-приложением

```
Infrastructure-Automation/
├── terraform/                          # Папка для файлов Terraform
│   ├── main.tf                         # Основной файл конфигурации Terraform
│   ├── variables.tf                    # Файл для определения переменных
│   ├── outputs.tf                      # Файл для определения выходных данных
│   └── terraform.tfvars                # Файл для задания значений переменных
│ 
│
├── ansible/                            # Папка для файлов Ansible
│   ├── inventory/                      # Папка для файлов инвентаризации
│   │   └── inventory.yml               # Файл инвентаризации с группами хостов
│   ├── playbook.yml                    # Основной плейбук для настройки серверов
│   │ 
│   ├── group_vars/                     # Папка для переменных групп
│   │   ├── all.yml                     # Переменные для всех хостов
│   │   ├── front.yml                   # Переменные для группы front
│   │   ├── back.yml                    # Переменные для группы back
│   │   └── db.yml                      # Переменные для группы db
│   │ 
│   ├── host_vars/                      # Папка для переменных хостов
│   │   ├── front.yml                   # Переменные для хоста front
│   │   ├── back.yml                    # Переменные для хоста back
│   │   └── db.yml                      # Переменные для хоста db
│   │ 
│   ├── roles/                          # Папка для ролей Ansible  
│   │   ├── common/                     # Роль для установки общих пакетов
│   │   │   ├── tasks/                  # Папка для задач роли
│   │   │   │   └── main.yml            # Основной файл задач для установки пакетов
│   │   │   └── handlers/               # Папка для обработчиков
│   │   │       └── main.yml            # Основной файл обработчиков
│   │   │ 
│   │   ├── front/                      # Роль для настройки сервера front
│   │   │   ├── tasks/                  # Папка для задач роли
│   │   │   │   └── main.yml            # Основной файл задач
│   │   │   ├── templates/              # Папка для шаблонов
│   │   │   │   └── nginx.conf.j2       # Шаблон конфигурации Nginx
│   │   │   └── handlers/               # Папка для обработчиков
│   │   │       └── main.yml            # Основной файл обработчиков
│   │   │  
│   │   ├── back/                       # Роль для настройки сервера back
│   │   │   ├── tasks/                  # Папка для задач роли
│   │   │   │   └── main.yml            # Основной файл задач
│   │   │   ├── templates/              # Папка для шаблонов
│   │   │   │   └── php-fpm.conf.j2     # Шаблон конфигурации PHP-FPM
│   │   │   └── handlers/               # Папка для обработчиков
│   │   │       └── main.yml            # Основной файл обработчиков
│   │   │ 
│   │   └── db/                         # Роль для настройки сервера db
│   │       ├── tasks/                  # Папка для задач роли
│   │       │   └── main.yml            # Основной файл задач
│   │       ├── templates/              # Папка для шаблонов
│   │       │   └── my.cnf.j2           # Шаблон конфигурации MariaDB
│   │       └── handlers/               # Папка для обработчиков
│   │           └── main.yml            # Основной файл обработчиков
│   │ 
│   └── vault/                          # Папка для хранения зашифрованных данных
│       └── secrets.yml                 # Файл для Ansible Vault, содержащий зашифрованные данные
│
│ 
├── docker/                             # Папка для Docker файлов
│   ├── Dockerfile                      # Основной Dockerfile для приложения
│   ├── docker-compose.yml              # Файл для Docker Compose
│   └── grafana/                        # Папка для Grafana
│       ├── Dockerfile                  # Dockerfile для Grafana
│       └── config.ini                  # Конфигурационный файл для Grafana
│
│ 
└── scripts/                            # Папка для вспомогательных скриптов
    └── setup.sh                        # Скрипт для начальной настройки
```


